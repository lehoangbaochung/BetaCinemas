@using Microsoft.AspNetCore.Identity

@inject SignInManager<Member> SignInManager
@inject UserManager<Member> UserManager
@model BetaCinemas.Models.Post

@{
    ViewData["Title"] = Model.Title;

    var isAdmin = false;

    @if (SignInManager.IsSignedIn(User))
    {
        if (User.Identity.Name.Equals("admin@betacorp.vn"))
        {
            isAdmin = true;
            Layout = "~/Views/Shared/_DashboardLayout.cshtml";
        }
    }
}

<dl class="row mt-4">
    <dt class="col-sm-6">
        <img class="img-responsive border-radius-20" alt=""
             src=@Html.DisplayFor(model => model.ImageUrl)>
    </dt>
    <dd class="col-sm-6 ml-2">
        <dl class="row">
            <dt class="h3 mb-3">
                @Html.DisplayFor(model => model.Title)
            </dt>
            <dd></dd>
            <dt></dt>
            <dd class="mb-3">
                @Html.DisplayFor(model => model.Content)
            </dd>
            <dt></dt>
            <dd class="text-right mt-4 col-sm-9">
                @{
                    if (isAdmin)
                    {
                        <a type="button" class="btn btn-sm btn-outline-primary"
                           asp-action="Index">Danh sách</a>
                        <a type="button" class="btn btn-sm btn-outline-warning"
                           asp-action="Edit" asp-route-id="@Model.Id">Sửa</a>
                        <a type="button" class="btn btn-sm btn-outline-danger"
                           asp-action="Delete" asp-route-id="@Model.Id">Xoá</a>
                    }
                    else
                    {
                        <a type="button" class="btn btn-sm btn-outline-success"
                           href="@Html.DisplayFor(modelItem => modelItem.AttachedUrl)">Đính kèm</a>
                    }
                }
            </dd>
        </dl>
    </dd>
</dl>
@{
    if (isAdmin)
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.AttachedUrl):
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.AttachedUrl)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.PostDate):
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.PostDate)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Genre):
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Genre)
            </dd>
        </dl>
    }
}